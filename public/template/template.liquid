<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Place Review</title>
    <link href="public/css/output.css" rel="stylesheet" />
  </head>
  <body class="flex justify-center items-center background">
    <div class="w-full">
      <div class="w-full flex flex-col gap-4 md:flex-row md:justify-between p-5 bg-primary-50 dark:bg-primary-950 rounded-lg">
        <div>
          <div class="flex items-center gap-2">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 85 36"
              class="h-9"
              xmlns:xlink="http://www.w3.org/1999/xlink">
              <g clip-path="url(#a-1)">
                <path fill="#4285F4" d="M20.778 13.43h-9.862v2.927h6.994c-.345 4.104-3.76 5.854-6.982 5.854-4.123 0-7.72-3.244-7.72-7.791 0-4.43 3.429-7.841 7.73-7.841 3.317 0 5.272 2.115 5.272 2.115l2.049-2.122s-2.63-2.928-7.427-2.928C4.725 3.644 0 8.8 0 14.367c0 5.457 4.445 10.777 10.988 10.777 5.756 0 9.969-3.942 9.969-9.772 0-1.23-.179-1.941-.179-1.941Z"></path>
                <path fill="#EA4335" d="M28.857 11.312c-4.047 0-6.947 3.163-6.947 6.853 0 3.744 2.813 6.966 6.994 6.966 3.786 0 6.887-2.893 6.887-6.886 0-4.576-3.607-6.933-6.934-6.933Zm.04 2.714c1.99 0 3.876 1.609 3.876 4.201 0 2.538-1.878 4.192-3.885 4.192-2.205 0-3.945-1.766-3.945-4.212 0-2.394 1.718-4.181 3.954-4.181Z"></path>
                <path fill="#FBBC05" d="M43.965 11.312c-4.046 0-6.946 3.163-6.946 6.853 0 3.744 2.813 6.966 6.994 6.966 3.785 0 6.886-2.893 6.886-6.886 0-4.576-3.607-6.933-6.934-6.933Zm.04 2.714c1.99 0 3.876 1.609 3.876 4.201 0 2.538-1.877 4.192-3.885 4.192-2.205 0-3.945-1.766-3.945-4.212 0-2.394 1.718-4.181 3.955-4.181Z"></path>
                <path fill="#4285F4" d="M58.783 11.319c-3.714 0-6.634 3.253-6.634 6.904 0 4.16 3.385 6.918 6.57 6.918 1.97 0 3.017-.782 3.79-1.68v1.363c0 2.384-1.448 3.812-3.633 3.812-2.11 0-3.169-1.57-3.537-2.46l-2.656 1.11c.943 1.992 2.839 4.07 6.215 4.07 3.693 0 6.508-2.327 6.508-7.205V11.734h-2.897v1.17c-.89-.96-2.109-1.585-3.726-1.585Zm.269 2.709c1.821 0 3.69 1.554 3.69 4.21 0 2.699-1.865 4.187-3.73 4.187-1.98 0-3.823-1.608-3.823-4.161 0-2.653 1.914-4.236 3.863-4.236Z"></path>
                <path fill="#EA4335" d="M78.288 11.302c-3.504 0-6.446 2.788-6.446 6.901 0 4.353 3.28 6.934 6.782 6.934 2.924 0 4.718-1.6 5.789-3.032l-2.389-1.59c-.62.962-1.656 1.902-3.385 1.902-1.943 0-2.836-1.063-3.39-2.094l9.266-3.845-.48-1.126c-.896-2.207-2.984-4.05-5.747-4.05Zm.12 2.658c1.263 0 2.171.671 2.557 1.476l-6.187 2.586c-.267-2.002 1.63-4.062 3.63-4.062Z"></path>
                <path fill="#34A853" d="M67.425 24.727h3.044V4.359h-3.044v20.368Z"></path>
              </g>
              <defs>
                <clipPath id="a-1">
                  <path fill="#fff" d="M0 0h84.515v36H0z"></path>
                </clipPath>
              </defs>
            </svg>

            <span class="font-extrabold text-xl">Avaliações</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="font-extrabold text-xl">
              {{ data.rating }}.0
            </span>
            {% for item in (1..data.rating) %}
              <span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  class="size-7 text-yellow-500">
                  <path
                    fill-rule="evenodd"
                    d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z"
                    clip-rule="evenodd" />
                </svg>
              </span>
            {% endfor %}
            <span class="text-sm font-extralight">({{ data.reviews_count }})</span>
          </div>
        </div>
        <div class="flex items-center">
          <button type="button" class="btn-flat-primary">
            Avalie-nos no google
          </button>
        </div>
      </div>

      <div class="relative w-full overflow-hidden mt-4">
        <div id="carousel" class="flex transition-transform duration-500">
          {% for review in data.reviews %}
            <div class="min-w-full md:min-w-[33.33%]">
              <div class="bg-primary-50 dark:bg-primary-950 rounded-xl p-5 min-h-full">
                <div class="flex gap-4 w-full">
                  <div class="relative">
                    <img
                      src="{{ review.photoUri }}"
                      alt=""
                      class="w-16">
                    <img
                      src="public/images/icon-google.svg"
                      alt=""
                      class="absolute bottom-0 right-0 transform translate-x-1/5 translate-y-1/5 w-6 h-6">
                  </div>
                  <div class="w-full">
                    <div class="flex items-center gap-2">
                      <span class="line-clamp-1 font-semibold">{{ review.displayName }}</span>
                      <div>
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="currentColor"
                          class="size-5 text-blue-500">
                          <path
                            fill-rule="evenodd"
                            d="M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z"
                            clip-rule="evenodd" />
                        </svg>
                      </div>
                    </div>
                    <div>
                      <p class="text-sm font-extralight">{{ review.relativePublishTimeDescription }}</p>
                    </div>
                  </div>
                </div>

                <div class="flex my-3">
                  {% for item in (1..review.rating) %}
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        class="size-6 text-yellow-500">
                        <path
                          fill-rule="evenodd"
                          d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z"
                          clip-rule="evenodd" />
                      </svg>
                    </span>
                  {% endfor %}
                </div>

                <div data-review-text>
                  <p data-text="{{ forloop.index }}" class="font-light line-clamp-3">
                    {{ review.text }}
                  </p>
                  <button
                    data-btn="{{ forloop.index }}"
                    data-rating="{{ review.rating }}"
                    data-photo-uri="{{ review.photoUri }}"
                    data-text="{{ review.text | escape }}"
                    data-display-name="{{ review.displayName }}"
                    data-relative-publish-time-description="{{ review.relativePublishTimeDescription }}"
                    class="text-blue-500 hover:underline cursor-pointer hidden">
                    Leia mais
                  </button>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>

        <button onclick="prevSlide()" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white p-1 rounded-full cursor-pointer opacity-50">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="size-8">
            <path
              fill-rule="evenodd"
              d="M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z"
              clip-rule="evenodd" />
          </svg>
        </button>

        <button onclick="nextSlide()" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white p-1 rounded-full cursor-pointer opacity-50">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="size-8">
            <path
              fill-rule="evenodd"
              d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Overlay -->
    <div id="modal" class="fixed inset-0 items-center justify-center z-50 hidden">

      <!-- Fundo semi-transparente -->
      <div id="modalOverlay" class="absolute inset-0 bg-zinc-950 opacity-50"></div>

      <!-- Conteúdo do modal -->
      <div class="relative bg-white dark:bg-primary-950 rounded-lg p-7 max-w-md z-10 mx-4 md:mx-0">
        <button id="closeModal" class="absolute top-3 right-3 p-2 cursor-pointer text-primary-500 hover:text-primary-700 hover:bg-primary-100 rounded-md">
          <svg
            class="w-3 h-3"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 14 14">
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
          </svg>
          <span class="sr-only">Close modal</span>
        </button>
        <div class="min-h-full">
          <div class="flex gap-4 w-full">
            <div class="relative">
              <img
                id="modalPhotoUri"
                src=""
                alt=""
                class="w-16">
              <img
                src="public/images/icon-google.svg"
                alt=""
                class="absolute bottom-0 right-0 transform translate-x-1/5 translate-y-1/5 w-6 h-6">
            </div>
            <div class="w-full">
              <div class="flex items-center gap-2">
                <span id="modalDisplayName" class="line-clamp-1 font-semibold"></span>
                <div>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    class="size-5 text-blue-500">
                    <path
                      fill-rule="evenodd"
                      d="M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z"
                      clip-rule="evenodd" />
                  </svg>
                </div>
              </div>
              <div>
                <p id="modalRelativePublishTimeDescription" class="text-sm font-extralight"></p>
              </div>
            </div>
          </div>
          <div id="modalStars" class="flex my-3"></div>
          <div>
            <p id="modalText" class="font-light line-clamp-3"></p>
          </div>
        </div>
      </div>
    </div>

    <script src="public/js/scripts.js"></script>
  </body>
</html>